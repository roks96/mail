<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü–∏—Å—å–º–æ –î–µ–¥—É –ú–æ—Ä–æ–∑—É</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(to bottom, #1a2d4a, #3f74bb, #b8d4e0);
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      position: relative;
    }

    /* –ó–≤–µ–∑–¥—ã */
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle linear infinite;
      pointer-events: none;
      box-shadow: 0 0 3px rgba(255, 255, 255, 0.8);
    }

    @keyframes twinkle {
      0%, 100% {
        opacity: 0.3;
        transform: scale(1);
      }
      50% {
        opacity: 1;
        transform: scale(1.2);
      }
    }

    /* –°–Ω–µ–∂–∏–Ω–∫–∏ —Å —Ä–∞–∑–Ω—ã–º –¥–≤–∏–∂–µ–Ω–∏–µ–º */
    .snowflake {
      position: absolute;
      top: -10px;
      color: white;
      font-size: 1em;
      opacity: 0.8;
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
      pointer-events: none;
      z-index: 1;
    }

    /* –ò—Å–∫—Ä—ã –≤–æ–∫—Ä—É–≥ –∫–æ–Ω–≤–µ—Ä—Ç–∞ */
    .sparkle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: white;
      border-radius: 50%;
      pointer-events: none;
      animation: sparkleFloat 3s ease-in-out infinite;
      box-shadow: 0 0 6px rgba(255, 255, 255, 0.8);
    }

    @keyframes sparkleFloat {
      0%, 100% {
        transform: translateY(0) scale(1);
        opacity: 0;
      }
      50% {
        transform: translateY(-30px) scale(1.5);
        opacity: 1;
      }
    }

    .envelope-wrapper {
      perspective: 1400px;
      cursor: pointer;
      position: relative;
      animation: floatEnvelope 3s ease-in-out infinite;
      z-index: 5;
    }

    @keyframes floatEnvelope {
      0%, 100% {
        transform: translateY(0px) rotate(0deg);
      }
      50% {
        transform: translateY(-15px) rotate(1deg);
      }
    }

    .envelope {
      position: relative;
      width: 450px;
      height: 280px;
      filter: drop-shadow(0 15px 30px rgba(0,0,0,0.2));
      transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .envelope:hover {
      transform: scale(1.05) rotateZ(2deg);
      filter: drop-shadow(0 20px 40px rgba(0,0,0,0.3));
    }

    /* –û—Å–Ω–æ–≤–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞ */
    .envelope-body {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(180deg, #8fc5e8 0%, #6aafdb 100%);
      border: 3px solid #4a90b8;
      border-radius: 12px;
      z-index: 2;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      animation: bodyPulse 2s ease-in-out infinite;
    }

    @keyframes bodyPulse {
      0%, 100% {
        box-shadow: 0 4px 12px rgba(0,0,0,0.15), 0 0 20px rgba(143, 197, 232, 0.3);
      }
      50% {
        box-shadow: 0 4px 12px rgba(0,0,0,0.15), 0 0 30px rgba(143, 197, 232, 0.5);
      }
    }

    /* –ö–ª–∞–ø–∞–Ω –∫–æ–Ω–≤–µ—Ä—Ç–∞ */
    .envelope-flap {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 50%;
      background: linear-gradient(180deg, #b3ddf2 0%, #8fc5e8 100%);
      border: 3px solid #4a90b8;
      border-bottom: none;
      clip-path: polygon(0 0, 50% 100%, 100% 0);
      transform-origin: top center;
      transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      z-index: 4;
      border-radius: 12px 12px 0 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      animation: flapWiggle 3s ease-in-out infinite;
    }

    @keyframes flapWiggle {
      0%, 100% {
        transform: rotateX(0deg);
      }
      25% {
        transform: rotateX(-5deg);
      }
      75% {
        transform: rotateX(-2deg);
      }
    }

    .envelope:hover .envelope-flap {
      animation: flapWiggleHover 0.5s ease-in-out infinite;
    }

    @keyframes flapWiggleHover {
      0%, 100% {
        transform: rotateX(-8deg);
      }
      50% {
        transform: rotateX(-12deg);
      }
    }

    /* –¢–µ–∫—Å—Ç –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–µ */
    .envelope-text {
      position: absolute;
      bottom: 50px;
      width: 100%;
      text-align: center;
      font-size: 1.3rem;
      font-weight: 600;
      color: #ffffff;
      z-index: 3;
      text-shadow: 0 2px 6px rgba(0,0,0,0.2);
      animation: textGlow 2s ease-in-out infinite;
    }

    @keyframes textGlow {
      0%, 100% {
        text-shadow: 0 2px 6px rgba(0,0,0,0.2), 0 0 10px rgba(255,255,255,0.3);
      }
      50% {
        text-shadow: 0 2px 6px rgba(0,0,0,0.2), 0 0 20px rgba(255,255,255,0.6);
      }
    }

    /* –ü–∏—Å—å–º–æ */
    .envelope-letter {
      position: absolute;
      bottom: 0;
      left: 5%;
      width: 90%;
      height: 85%;
      background: linear-gradient(to bottom, #fffef8 0%, #fefce8 100%);
      color: #2c3e50;
      border-radius: 6px;
      padding: 25px;
      transform: translateY(calc(100% + 10px));
      transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.4s;
      z-index: 1;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      font-size: 0.9rem;
      line-height: 1.6;
      border: 2px solid #e8d7b0;
      overflow-y: auto;
      overflow-x: hidden;
    }
    
    .envelope-letter::-webkit-scrollbar {
      width: 6px;
    }
    
    .envelope-letter::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 3px;
    }
    
    .envelope-letter::-webkit-scrollbar-thumb {
      background: #c4b5a0;
      border-radius: 3px;
    }

    .letter-title {
      font-weight: bold;
      margin-bottom: 12px;
      font-size: 1.2rem;
      color: #c41e3a;
      text-align: center;
    }

    /* –û—Ç–∫—Ä—ã—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ */
    .envelope.opened .envelope-flap {
      transform: rotateX(-180deg);
      animation: none;
    }

    .envelope.opened .envelope-letter {
      transform: translateY(-280px);
    }
    
    .envelope.opened {
      pointer-events: none;
      animation: none;
    }
    
    .envelope.opened ~ .letter-overlay {
      opacity: 1;
      pointer-events: auto;
    }
    
    .letter-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      z-index: 10;
      background: rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(5px);
    }
    
    .letter-fullscreen {
      width: 500px;
      max-height: 600px;
      background: linear-gradient(to bottom, #fffef8 0%, #fefce8 100%);
      color: #2c3e50;
      border-radius: 6px;
      padding: 35px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
      font-size: 0.95rem;
      line-height: 1.7;
      border: 2px solid #e8d7b0;
      overflow-y: auto;
      cursor: pointer;
      transform: scale(0.8) rotateX(-10deg);
      transition: transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.5s;
      animation: letterFloat 3s ease-in-out infinite;
    }

    @keyframes letterFloat {
      0%, 100% {
        transform: scale(1) translateY(0px);
      }
      50% {
        transform: scale(1) translateY(-10px);
      }
    }
    
    .envelope.opened ~ .letter-overlay .letter-fullscreen {
      transform: scale(1);
    }
    
    .letter-fullscreen::-webkit-scrollbar {
      width: 8px;
    }
    
    .letter-fullscreen::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 4px;
    }
    
    .letter-fullscreen::-webkit-scrollbar-thumb {
      background: #c4b5a0;
      border-radius: 4px;
    }

    /* –°–Ω–µ–≥ –≤–Ω–∏–∑—É */
    .snow-bottom {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 0;
      background: linear-gradient(to top, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0) 100%);
      animation: snowFill 6s ease-out forwards;
      z-index: 0;
      pointer-events: none;
    }

    @keyframes snowFill {
      0% {
        height: 0;
      }
      100% {
        height: 100px;
      }
    }

    .snow-drift {
      position: fixed;
      bottom: 0;
      width: 100%;
      height: 100px;
      z-index: 0;
      pointer-events: none;
    }

    .snow-drift svg {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>

<!-- –°–Ω–µ–≥ –≤–Ω–∏–∑—É -->
<div class="snow-bottom"></div>
<div class="snow-drift">
  <svg viewBox="0 0 1200 100" preserveAspectRatio="none">
    <path d="M0,20 Q50,50 100,30 T200,40 T300,25 T400,45 T500,30 T600,35 T700,40 T800,30 T900,45 T1000,35 T1100,40 T1200,30 L1200,100 L0,100 Z" 
          fill="rgba(255,255,255,0.95)" 
          opacity="0">
      <animate attributeName="opacity" from="0" to="1" dur="6s" fill="freeze"/>
      <animate attributeName="d" 
               values="M0,20 Q50,50 100,30 T200,40 T300,25 T400,45 T500,30 T600,35 T700,40 T800,30 T900,45 T1000,35 T1100,40 T1200,30 L1200,100 L0,100 Z;
                       M0,21 Q50,49 100,31 T200,39 T300,26 T400,44 T500,31 T600,36 T700,39 T800,31 T900,44 T1000,36 T1100,39 T1200,31 L1200,100 L0,100 Z;
                       M0,20 Q50,50 100,30 T200,40 T300,25 T400,45 T500,30 T600,35 T700,40 T800,30 T900,45 T1000,35 T1100,40 T1200,30 L1200,100 L0,100 Z"
               dur="12s" 
               repeatCount="indefinite"/>
    </path>
  </svg>
</div>

<div class="envelope-wrapper" id="envelopeWrapper">
  <div class="envelope" id="envelope">

    <div class="envelope-body">
      <div class="envelope-text">–ü–∏—Å—å–º–æ –î–µ–¥—É –ú–æ—Ä–æ–∑—É</div>
    </div>

    <div class="envelope-flap"></div>

  </div>
  
  <div class="letter-overlay" id="letterOverlay">
    <div class="letter-fullscreen" id="letterFullscreen">
      <p style="font-size: 1.1rem; margin-bottom: 20px;">–ü—Ä–∏–≤–µ—Ç! –ú–µ–Ω—è –∑–æ–≤—É—Ç –î–∏–º–∞, –º–Ω–µ 29 –ª–µ—Ç.</p>
      <p style="margin-top: 16px; line-height: 1.8;">–í —ç—Ç–æ–º –≥–æ–¥—É –æ–±–µ—â–∞—é –∑–∞–∫–æ–Ω—á–∏—Ç—å –∫—É—Ä—Å –∏ –≤—ã–π—Ç–∏ –Ω–∞ —Ñ—Ä–∏–ª–∞–Ω—Å.</p>
      <p style="margin-top: 16px; line-height: 1.8;">–û—Ç —Ç–µ–±—è –º–Ω–µ –Ω—É–∂–Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –∏ –∫–æ–≤—Ä–∏–∫.</p>
      <p style="margin-top: 20px; font-size: 1.05rem; font-weight: 500;">–ù–∞–¥–µ—é—Å—å, –ø–æ—Ä–∞–±–æ—Ç–∞–µ–º! üöÄ</p>
    </div>
  </div>
</div>

<script>
  // –°–æ–∑–¥–∞–Ω–∏–µ –∑–≤–µ–∑–¥
  function createStars() {
    const starCount = 50;
    for (let i = 0; i < starCount; i++) {
      const star = document.createElement('div');
      star.classList.add('star');
      
      // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (—Ç–æ–ª—å–∫–æ –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–æ–ª–æ–≤–∏–Ω–µ —ç–∫—Ä–∞–Ω–∞)
      star.style.left = Math.random() * 100 + '%';
      star.style.top = Math.random() * 50 + '%';
      
      // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä
      const size = Math.random() * 2 + 1; // 1-3px
      star.style.width = size + 'px';
      star.style.height = size + 'px';
      
      // –°–ª—É—á–∞–π–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–µ—Ä—Ü–∞–Ω–∏—è
      star.style.animationDuration = (Math.random() * 3 + 2) + 's';
      star.style.animationDelay = Math.random() * 3 + 's';
      
      document.body.appendChild(star);
    }
  }

  createStars();

  // –°–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–µ–∂–∏–Ω–æ–∫ —Å —Ä–∞–∑–Ω—ã–º –¥–≤–∏–∂–µ–Ω–∏–µ–º
  function createSnowflake() {
    const snowflake = document.createElement('div');
    snowflake.classList.add('snowflake');
    snowflake.textContent = '‚ùÑ';
    
    // –°–ª—É—á–∞–π–Ω–∞—è –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
    const startX = Math.random() * 100;
    snowflake.style.left = startX + '%';
    
    // –°–ª—É—á–∞–π–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    const duration = Math.random() * 5 + 8; // 8-13 —Å–µ–∫—É–Ω–¥
    const size = Math.random() * 0.8 + 0.5; // 0.5-1.3em
    const opacity = Math.random() * 0.5 + 0.4; // 0.4-0.9
    const sway = (Math.random() - 0.5) * 100; // -50 –¥–æ 50 px –∫–æ–ª–µ–±–∞–Ω–∏–µ
    const rotation = Math.random() * 720 - 360; // -360 –¥–æ 360 –≥—Ä–∞–¥—É—Å–æ–≤
    
    snowflake.style.fontSize = size + 'em';
    snowflake.style.opacity = opacity;
    
    // –°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∞–Ω–∏–º–∞—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–π —Å–Ω–µ–∂–∏–Ω–∫–∏
    const keyframes = [
      {
        transform: `translateX(0) translateY(0) rotate(0deg)`,
        opacity: 0
      },
      {
        transform: `translateX(${sway * 0.3}px) translateY(30vh) rotate(${rotation * 0.3}deg)`,
        opacity: opacity
      },
      {
        transform: `translateX(${sway * 0.7}px) translateY(60vh) rotate(${rotation * 0.7}deg)`,
        opacity: opacity
      },
      {
        transform: `translateX(${sway}px) translateY(100vh) rotate(${rotation}deg)`,
        opacity: 0
      }
    ];
    
    const animation = snowflake.animate(keyframes, {
      duration: duration * 1000,
      easing: 'linear',
      iterations: 1
    });
    
    document.body.appendChild(snowflake);
    
    animation.onfinish = () => {
      snowflake.remove();
    };
  }

  // –°–æ–∑–¥–∞–µ–º —Å–Ω–µ–∂–∏–Ω–∫–∏ –∫–∞–∂–¥—ã–µ 80–º—Å (–±–æ–ª—å—à–µ —Å–Ω–µ–∂–∏–Ω–æ–∫)
  setInterval(createSnowflake, 80);

  // –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å–∫—Ä –≤–æ–∫—Ä—É–≥ –∫–æ–Ω–≤–µ—Ä—Ç–∞
  function createSparkles() {
    const wrapper = document.getElementById('envelopeWrapper');
    for (let i = 0; i < 8; i++) {
      const sparkle = document.createElement('div');
      sparkle.classList.add('sparkle');
      
      const angle = (i / 8) * Math.PI * 2;
      const distance = 250;
      const x = Math.cos(angle) * distance;
      const y = Math.sin(angle) * distance;
      
      sparkle.style.left = `calc(50% + ${x}px)`;
      sparkle.style.top = `calc(50% + ${y}px)`;
      sparkle.style.animationDelay = `${i * 0.2}s`;
      
      wrapper.appendChild(sparkle);
    }
  }

  createSparkles();

  // –û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞
  document.addEventListener('DOMContentLoaded', () => {
    const envelope = document.getElementById('envelope');
    const letterOverlay = document.getElementById('letterOverlay');
    const letterFullscreen = document.getElementById('letterFullscreen');
    let isOpen = false;

    envelope.addEventListener('click', () => {
      if (!isOpen) {
        envelope.classList.add('opened');
        isOpen = true;
      }
    });
    
    letterFullscreen.addEventListener('click', (e) => {
      e.stopPropagation();
      if (isOpen) {
        envelope.classList.remove('opened');
        isOpen = false;
      }
    });

    // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
    envelope.addEventListener('mouseenter', () => {
      if (!isOpen) {
        envelope.style.animation = 'none';
      }
    });

    envelope.addEventListener('mouseleave', () => {
      if (!isOpen) {
        envelope.style.animation = 'floatEnvelope 3s ease-in-out infinite';
      }
    });
  });
</script>

</body>
</html>